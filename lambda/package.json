{
  "name": "lambda",
  "version": "1.0.0",
  "description": "Lambda function written in Typescript to parse csv files from s3 bucket ingress",
  "main": "index.js",
  "scripts": {
    "structure": "tree -a -I '.git|node_modules|dist|.terraform|.terraform*|.DS_Store|terraform.tfstate*|mind.txt|*.zip' --noreport --dirsfirst --filelimit=1000 --charset utf-8 -F -H . > project_structure.md""upload1": "aws s3 cp data/customers_20220130.csv s3://lambda-ingress-bucket/ && aws s3 cp data/items_20220130.csv s3://lambda-ingress-bucket/ && aws s3 cp data/orders_20220130.csv s3://lambda-ingress-bucket/",
    "upload2": "aws s3 cp data/customers_20220131.csv s3://lambda-ingress-bucket/ && aws s3 cp data/items_20220131.csv s3://lambda-ingress-bucket/ && aws s3 cp data/orders_20220131.csv s3://lambda-ingress-bucket/",
    "integration": "npm run format && npm run build && npm run package && npm run tf-destroy-lambda && npm run tf-apply",
    "tf-apply": "terraform -chdir='../infra/' apply -auto-approve",
    "tf-destroy-lambda": "terraform -chdir='../infra/' destroy --target=aws_lambda_function.processor -auto-approve",
    "test": "jest test/utils.test.ts",
    "build": "npx tsc",
    "format": "prettier -w '*.ts' 'src/**/*.ts' 'test/**/*.ts'",
    "package": "rm ../infra/csv-parser.zip && cd dist && zip -r ../../infra/csv-parser.zip index.js && zip -r ../../infra/csv-parser.zip src && cd .. && zip -r ../infra/csv-parser.zip node_modules"
  },
  "author": "sencerburakokumus@gmail.com",
  "license": "ISC",
  "dependencies": {
    "aws-lambda": "^1.0.7",
    "aws-sdk": "^2.1333.0",
    "fs": "^0.0.1-security",
    "lodash": "^4.17.21",
    "papaparse": "^5.4.0"
  },
  "devDependencies": {
    "@babel/preset-env": "^7.20.2",
    "@babel/preset-typescript": "^7.21.0",
    "@types/aws-lambda": "^8.10.111",
    "@types/jest": "^29.4.0",
    "@types/lodash": "^4.14.191",
    "@types/node": "^18.15.0",
    "@types/papaparse": "^5.3.7",
    "@types/uuid": "^9.0.1",
    "aws-sdk-mock": "^5.8.0",
    "jest": "^29.5.0",
    "prettier": "^2.8.4",
    "typescript": "^4.9.5"
  }
}